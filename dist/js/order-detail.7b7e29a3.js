(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order-detail"],{"0d5e":function(e,t,n){"use strict";n("7131")},"0eaf":function(e,t,n){"use strict";n("b0c0");var c=n("7a23"),a=Object(c["S"])("data-v-97148694");Object(c["B"])("data-v-97148694");var r={class:"simple-header van-hairline--bottom"},i={key:1},o={class:"simple-header-name"},u=Object(c["i"])("i",{class:"nbicon nbmore"},null,-1),l=Object(c["i"])("div",{class:"block"},null,-1);Object(c["z"])();var b=a((function(e,t,n,a,b,s){return Object(c["y"])(),Object(c["f"])(c["a"],null,[Object(c["i"])("header",r,[a.isback?(Object(c["y"])(),Object(c["f"])("i",i,"      ")):(Object(c["y"])(),Object(c["f"])("i",{key:0,class:"nbicon nbfanhui",onClick:t[1]||(t[1]=function(){return a.goBack.apply(a,arguments)})})),Object(c["i"])("div",o,Object(c["K"])(n.name),1),u]),l],64)})),s=n("6c02"),d={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1}},emits:["callback"],setup:function(e,t){var n=Object(c["D"])(e.noback),a=Object(s["d"])(),r=function(){e.back?a.push({path:e.back}):a.go(-1),t.emit("callback")};return{goBack:r,isback:n}}};n("3215");d.render=b,d.__scopeId="data-v-97148694";t["a"]=d},3215:function(e,t,n){"use strict";n("a5f6")},7131:function(e,t,n){},"99c5":function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return l}));var c=n("a27e");function a(e){return c["a"].post("/saveOrder",e)}function r(e){return c["a"].get("/order",{params:e})}function i(e){return c["a"].get("/order/".concat(e))}function o(e){return c["a"].put("/order/".concat(e,"/cancel"))}function u(e){return c["a"].put("/order/".concat(e,"/finish"))}function l(e){return c["a"].get("/paySuccess",{params:e})}},a5f6:function(e,t,n){},d3bb:function(e,t,n){"use strict";n.r(t);var c=n("7a23"),a=Object(c["S"])("data-v-77463bf8");Object(c["B"])("data-v-77463bf8");var r={class:"order-detail-box"},i={class:"order-status"},o={class:"status-item"},u=Object(c["i"])("label",null,"订单状态：",-1),l={class:"status-item"},b=Object(c["i"])("label",null,"订单编号：",-1),s={class:"status-item"},d=Object(c["i"])("label",null,"下单时间：",-1),f=Object(c["h"])("去支付"),O=Object(c["h"])("取消订单"),j={class:"order-price"},p={class:"price-item"},h=Object(c["i"])("label",null,"商品金额：",-1),m=Object(c["i"])("div",{class:"price-item"},[Object(c["i"])("label",null,"配送方式："),Object(c["i"])("span",null,"普通快递")],-1),v={style:{width:"90%",margin:"0 auto",padding:"20px 0"}},y=Object(c["h"])("支付宝支付"),k=Object(c["h"])("微信支付");Object(c["z"])();var g=a((function(e,t,n,g,w,C){var P=Object(c["G"])("s-header"),S=Object(c["G"])("van-button"),x=Object(c["G"])("van-card"),_=Object(c["G"])("van-popup");return Object(c["y"])(),Object(c["f"])("div",r,[Object(c["i"])(P,{name:"订单详情",onCallback:g.close},null,8,["onCallback"]),Object(c["i"])("div",i,[Object(c["i"])("div",o,[u,Object(c["i"])("span",null,Object(c["K"])(e.detail.orderStatusString),1)]),Object(c["i"])("div",l,[b,Object(c["i"])("span",null,Object(c["K"])(e.detail.orderNo),1)]),Object(c["i"])("div",s,[d,Object(c["i"])("span",null,Object(c["K"])(e.detail.createTime),1)]),0==e.detail.orderStatus?(Object(c["y"])(),Object(c["f"])(S,{key:0,style:{"margin-bottom":"10px"},color:"#1baeae",block:"",onClick:g.showPayFn},{default:a((function(){return[f]})),_:1},8,["onClick"])):Object(c["g"])("",!0),e.detail.orderStatus<0||4==e.detail.orderStatus?Object(c["g"])("",!0):(Object(c["y"])(),Object(c["f"])(S,{key:1,block:"",onClick:t[1]||(t[1]=function(t){return g.handleCancelOrder(e.detail.orderNo)})},{default:a((function(){return[O]})),_:1}))]),Object(c["i"])("div",j,[Object(c["i"])("div",p,[h,Object(c["i"])("span",null,"¥ "+Object(c["K"])(e.detail.totalPrice),1)]),m]),(Object(c["y"])(!0),Object(c["f"])(c["a"],null,Object(c["E"])(e.detail.newBeeMallOrderItemVOS,(function(t){return Object(c["y"])(),Object(c["f"])(x,{key:t.goodsId,style:{background:"#fff"},num:t.goodsCount,price:t.sellingPrice,desc:"全场包邮",title:t.goodsName,thumb:e.$filters.prefix(t.goodsCoverImg)},null,8,["num","price","title","thumb"])})),128)),Object(c["i"])(_,{show:e.showPay,"onUpdate:show":t[4]||(t[4]=function(t){return e.showPay=t}),position:"bottom",style:{height:"24%"}},{default:a((function(){return[Object(c["i"])("div",v,[Object(c["i"])(S,{style:{marginBottom:"10px"},color:"#1989fa",block:"",onClick:t[2]||(t[2]=function(t){return g.handlePayOrder(e.detail.orderNo,1)})},{default:a((function(){return[y]})),_:1}),Object(c["i"])(S,{color:"#4fc08d",block:"",onClick:t[3]||(t[3]=function(t){return g.handlePayOrder(e.detail.orderNo,2)})},{default:a((function(){return[k]})),_:1})])]})),_:1},8,["show"])])})),w=n("5530"),C=(n("e17f"),n("2241")),P=(n("e7e5"),n("d399")),S=(n("96cf"),n("1da1")),x=n("0eaf"),_=n("99c5"),B=n("6c02"),N={name:"OrderDetail",components:{sHeader:x["a"]},setup:function(){var e=Object(B["c"])(),t=Object(c["C"])({detail:{},showPay:!1});Object(c["v"])((function(){n()}));var n=function(){var n=Object(S["a"])(regeneratorRuntime.mark((function n(){var c,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return P["a"].loading({message:"加载中...",forbidClick:!0}),c=e.query.id,n.next=4,Object(_["d"])(c);case 4:a=n.sent,r=a.data,t.detail=r,P["a"].clear();case 8:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),a=function(e){C["a"].confirm({title:"确认取消订单？"}).then((function(){Object(_["a"])(e).then((function(e){200==e.resultCode&&(Object(P["a"])("删除成功"),n())}))})).catch((function(){}))},r=function(e){C["a"].confirm({title:"是否确认订单？"}).then((function(){Object(_["b"])(e).then((function(e){200==e.resultCode&&(Object(P["a"])("确认成功"),n())}))})).catch((function(){}))},i=function(){t.showPay=!0},o=function(){var e=Object(S["a"])(regeneratorRuntime.mark((function e(c,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return P["a"].loading,e.next=3,Object(_["f"])({orderNo:c,payType:a});case 3:t.showPay=!1,n();case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),u=function(){C["a"].close()};return Object(w["a"])(Object(w["a"])({},Object(c["L"])(t)),{},{handleCancelOrder:a,handleConfirmOrder:r,showPayFn:i,handlePayOrder:o,close:u})}};n("0d5e");N.render=g,N.__scopeId="data-v-77463bf8";t["default"]=N}}]);
//# sourceMappingURL=order-detail.7b7e29a3.js.map