(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["order"],{"0eaf":function(e,t,n){"use strict";n("b0c0");var a=n("7a23"),c=Object(a["S"])("data-v-97148694");Object(a["B"])("data-v-97148694");var r={class:"simple-header van-hairline--bottom"},o={key:1},i={class:"simple-header-name"},u=Object(a["i"])("i",{class:"nbicon nbmore"},null,-1),s=Object(a["i"])("div",{class:"block"},null,-1);Object(a["z"])();var l=c((function(e,t,n,c,l,d){return Object(a["y"])(),Object(a["f"])(a["a"],null,[Object(a["i"])("header",r,[c.isback?(Object(a["y"])(),Object(a["f"])("i",o,"      ")):(Object(a["y"])(),Object(a["f"])("i",{key:0,class:"nbicon nbfanhui",onClick:t[1]||(t[1]=function(){return c.goBack.apply(c,arguments)})})),Object(a["i"])("div",i,Object(a["K"])(n.name),1),u]),s],64)})),d=n("6c02"),f={props:{name:{type:String,default:""},back:{type:String,default:""},noback:{type:Boolean,default:!1}},emits:["callback"],setup:function(e,t){var n=Object(a["D"])(e.noback),c=Object(d["d"])(),r=function(){e.back?c.push({path:e.back}):c.go(-1),t.emit("callback")};return{goBack:r,isback:n}}};n("3215");f.render=l,f.__scopeId="data-v-97148694";t["a"]=f},3215:function(e,t,n){"use strict";n("a5f6")},"5b70":function(e,t,n){},"99af":function(e,t,n){"use strict";var a=n("23e7"),c=n("d039"),r=n("e8b5"),o=n("861d"),i=n("7b0b"),u=n("50c4"),s=n("8418"),l=n("65f0"),d=n("1dde"),f=n("b622"),b=n("2d00"),O=f("isConcatSpreadable"),j=9007199254740991,g="Maximum allowed index exceeded",p=b>=51||!c((function(){var e=[];return e[O]=!1,e.concat()[0]!==e})),h=d("concat"),m=function(e){if(!o(e))return!1;var t=e[O];return void 0!==t?!!t:r(e)},v=!p||!h;a({target:"Array",proto:!0,forced:v},{concat:function(e){var t,n,a,c,r,o=i(this),d=l(o,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(r=-1===t?o:arguments[t],m(r)){if(c=u(r.length),f+c>j)throw TypeError(g);for(n=0;n<c;n++,f++)n in r&&s(d,f,r[n])}else{if(f>=j)throw TypeError(g);s(d,f++,r)}return d.length=f,d}})},"99c5":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"e",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return s}));var a=n("a27e");function c(e){return a["a"].post("/saveOrder",e)}function r(e){return a["a"].get("/order",{params:e})}function o(e){return a["a"].get("/order/".concat(e))}function i(e){return a["a"].put("/order/".concat(e,"/cancel"))}function u(e){return a["a"].put("/order/".concat(e,"/finish"))}function s(e){return a["a"].get("/paySuccess",{params:e})}},"9c19":function(e,t,n){"use strict";n("5b70")},a5f6:function(e,t,n){},cf2a:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),c=Object(a["S"])("data-v-f9c79b2c");Object(a["B"])("data-v-f9c79b2c");var r={class:"order-box"},o={class:"content"},i={class:"order-item-header"};Object(a["z"])();var u=c((function(e,t,n,u,s,l){var d=Object(a["G"])("s-header"),f=Object(a["G"])("van-tab"),b=Object(a["G"])("van-tabs"),O=Object(a["G"])("van-card"),j=Object(a["G"])("van-list"),g=Object(a["G"])("van-pull-refresh");return Object(a["y"])(),Object(a["f"])("div",r,[Object(a["i"])(d,{name:"我的订单",back:"/user"}),Object(a["i"])(b,{onClick:u.onChangeTab,color:"#1baeae","title-active-color":"#1baeae",class:"order-tab",modelValue:e.status,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.status=t})},{default:c((function(){return[Object(a["i"])(f,{title:"全部",name:""}),Object(a["i"])(f,{title:"待付款",name:"0"}),Object(a["i"])(f,{title:"待确认",name:"1"}),Object(a["i"])(f,{title:"待发货",name:"2"}),Object(a["i"])(f,{title:"已发货",name:"3"}),Object(a["i"])(f,{title:"交易完成",name:"4"})]})),_:1},8,["onClick","modelValue"]),Object(a["i"])("div",o,[Object(a["i"])(g,{modelValue:e.refreshing,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.refreshing=t}),onRefresh:u.onRefresh,class:"order-list-refresh"},{default:c((function(){return[Object(a["i"])(j,{loading:e.loading,"onUpdate:loading":t[2]||(t[2]=function(t){return e.loading=t}),finished:e.finished,"finished-text":"没有更多了",onLoad:u.onLoad,onOffset:t[3]||(t[3]=function(e){return 10})},{default:c((function(){return[(Object(a["y"])(!0),Object(a["f"])(a["a"],null,Object(a["E"])(e.list,(function(t,n){return Object(a["y"])(),Object(a["f"])("div",{key:n,class:"order-item-box",onClick:function(e){return u.goTo(t.orderNo)}},[Object(a["i"])("div",i,[Object(a["i"])("span",null,"订单时间："+Object(a["K"])(t.createTime),1),Object(a["i"])("span",null,Object(a["K"])(t.orderStatusString),1)]),(Object(a["y"])(!0),Object(a["f"])(a["a"],null,Object(a["E"])(t.newBeeMallOrderItemVOS,(function(t){return Object(a["y"])(),Object(a["f"])(O,{key:t.orderId,num:t.goodsCount,price:t.sellingPrice,desc:"全场包邮",title:t.goodsName,thumb:e.$filters.prefix(t.goodsCoverImg)},null,8,["num","price","title","thumb"])})),128))],8,["onClick"])})),128))]})),_:1},8,["loading","finished","onLoad"])]})),_:1},8,["modelValue","onRefresh"])])])})),s=(n("99af"),n("5530")),l=(n("96cf"),n("1da1")),d=n("0eaf"),f=n("99c5"),b=n("6c02"),O={name:"Order",components:{sHeader:d["a"]},setup:function(){var e=Object(b["d"])(),t=Object(a["C"])({status:"",loading:!1,finished:!1,refreshing:!1,list:[],page:1,totalPage:0}),n=function(){var e=Object(l["a"])(regeneratorRuntime.mark((function e(){var n,a,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(f["e"])({pageNumber:t.page,status:t.status});case 2:n=e.sent,a=n.data,c=n.data.list,t.list=t.list.concat(c),t.totalPage=a.totalPage,t.loading=!1,t.page>=a.totalPage&&(t.finished=!0);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(e){t.status=e,u()},r=function(t){e.push({path:"/order-detail",query:{id:t}})},o=function(){e.go(-1)},i=function(){!t.refreshing&&t.page<t.totalPage&&(console.log(t.page),console.log(t.totalPage),t.page=t.page+1),t.refreshing&&(t.list=[],t.refreshing=!1),n()},u=function(){t.refreshing=!0,t.finished=!1,t.loading=!0,t.page=1,i()};return Object(s["a"])(Object(s["a"])({},Object(a["L"])(t)),{},{onChangeTab:c,goTo:r,goBack:o,onLoad:i,onRefresh:u})}};n("9c19");O.render=u,O.__scopeId="data-v-f9c79b2c";t["default"]=O}}]);
//# sourceMappingURL=order.ffb486a2.js.map